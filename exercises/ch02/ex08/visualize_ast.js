import { readFileSync, writeFileSync } from 'fs';
// Read the AST JSON file
const ast = JSON.parse(readFileSync('ast1.json', 'utf-8'));
// Helper function to generate DOT format for Graphviz
function generateDot(ast, parentId = null, nodeId = 0) {
    let dot = '';
    const currentId = nodeId;
    dot += `  node${currentId} [label=\"${ast.type}\"]\n`;
    if (parentId !== null) {
        dot += `  node${parentId} -> node${currentId}\n`;
    }
    let nextId = currentId + 1;
    for (const key in ast) {
        if (typeof ast[key] === 'object' && ast[key] !== null && !Array.isArray(ast[key])) {
            const result = generateDot(ast[key], currentId.toString(), nextId);
            dot += result.dot;
            nextId = result.nextId;
        }
        else if (Array.isArray(ast[key])) {
            for (const item of ast[key]) {
                if (typeof item === 'object' && item !== null) {
                    const result = generateDot(item, currentId.toString(), nextId);
                    dot += result.dot;
                    nextId = result.nextId;
                }
            }
        }
    }
    return { dot, nextId };
}
// Generate DOT content
const { dot } = generateDot(ast);
const dotContent = `digraph AST {\n${dot}}`;
// Save DOT file
writeFileSync('ast1.dot', dotContent);
console.log('DOT file has been generated as ast1.dot.');
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmlzdWFsaXplX2FzdC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbInZpc3VhbGl6ZV9hc3QudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFlBQVksRUFBRSxhQUFhLEVBQUUsTUFBTSxJQUFJLENBQUE7QUFFaEQseUJBQXlCO0FBQ3pCLE1BQU0sR0FBRyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsWUFBWSxDQUFDLFdBQVcsRUFBRSxPQUFPLENBQUMsQ0FBQyxDQUFBO0FBRTFELHNEQUFzRDtBQUN0RCxTQUFTLFdBQVcsQ0FDbEIsR0FBUSxFQUNSLFdBQTBCLElBQUksRUFDOUIsU0FBaUIsQ0FBQztJQUVsQixJQUFJLEdBQUcsR0FBRyxFQUFFLENBQUE7SUFDWixNQUFNLFNBQVMsR0FBRyxNQUFNLENBQUE7SUFDeEIsR0FBRyxJQUFJLFNBQVMsU0FBUyxhQUFhLEdBQUcsQ0FBQyxJQUFJLE9BQU8sQ0FBQTtJQUVyRCxJQUFJLFFBQVEsS0FBSyxJQUFJLEVBQUUsQ0FBQztRQUN0QixHQUFHLElBQUksU0FBUyxRQUFRLFdBQVcsU0FBUyxJQUFJLENBQUE7SUFDbEQsQ0FBQztJQUVELElBQUksTUFBTSxHQUFHLFNBQVMsR0FBRyxDQUFDLENBQUE7SUFFMUIsS0FBSyxNQUFNLEdBQUcsSUFBSSxHQUFHLEVBQUUsQ0FBQztRQUN0QixJQUFJLE9BQU8sR0FBRyxDQUFDLEdBQUcsQ0FBQyxLQUFLLFFBQVEsSUFBSSxHQUFHLENBQUMsR0FBRyxDQUFDLEtBQUssSUFBSSxJQUFJLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxDQUFDO1lBQ2xGLE1BQU0sTUFBTSxHQUFHLFdBQVcsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLEVBQUUsU0FBUyxDQUFDLFFBQVEsRUFBRSxFQUFFLE1BQU0sQ0FBQyxDQUFBO1lBQ2xFLEdBQUcsSUFBSSxNQUFNLENBQUMsR0FBRyxDQUFBO1lBQ2pCLE1BQU0sR0FBRyxNQUFNLENBQUMsTUFBTSxDQUFBO1FBQ3hCLENBQUM7YUFBTSxJQUFJLEtBQUssQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsQ0FBQztZQUNuQyxLQUFLLE1BQU0sSUFBSSxJQUFJLEdBQUcsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDO2dCQUM1QixJQUFJLE9BQU8sSUFBSSxLQUFLLFFBQVEsSUFBSSxJQUFJLEtBQUssSUFBSSxFQUFFLENBQUM7b0JBQzlDLE1BQU0sTUFBTSxHQUFHLFdBQVcsQ0FBQyxJQUFJLEVBQUUsU0FBUyxDQUFDLFFBQVEsRUFBRSxFQUFFLE1BQU0sQ0FBQyxDQUFBO29CQUM5RCxHQUFHLElBQUksTUFBTSxDQUFDLEdBQUcsQ0FBQTtvQkFDakIsTUFBTSxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUE7Z0JBQ3hCLENBQUM7WUFDSCxDQUFDO1FBQ0gsQ0FBQztJQUNILENBQUM7SUFFRCxPQUFPLEVBQUUsR0FBRyxFQUFFLE1BQU0sRUFBRSxDQUFBO0FBQ3hCLENBQUM7QUFFRCx1QkFBdUI7QUFDdkIsTUFBTSxFQUFFLEdBQUcsRUFBRSxHQUFHLFdBQVcsQ0FBQyxHQUFHLENBQUMsQ0FBQTtBQUNoQyxNQUFNLFVBQVUsR0FBRyxrQkFBa0IsR0FBRyxHQUFHLENBQUE7QUFFM0MsZ0JBQWdCO0FBQ2hCLGFBQWEsQ0FBQyxVQUFVLEVBQUUsVUFBVSxDQUFDLENBQUE7QUFDckMsT0FBTyxDQUFDLEdBQUcsQ0FBQywwQ0FBMEMsQ0FBQyxDQUFBIn0=