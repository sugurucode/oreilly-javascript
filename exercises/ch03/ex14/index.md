# 練習問題 3.14

## 予想

### 元のコード（letを使用）
```js
for (let i = 0; i < 10; i++) {
  (function () {
    let i = 100;
  })();
  console.log(i);
}
console.log(i);
```

実行結果の予想：
```
0
1
2
3
4
5
6
7
8
9
参照できない系のエラー
```

理由：
- let iはfor文内でのみ使えて、その外はスコープ外。
- function内で定義されているlet i =100もそのfunctionないのみのスコープ（局所変数って言うんだっけ？）
- ループ内の`console.log(i)`は、forループで定義された`i`の値（0から9）を出力
- ループ外の`console.log(i)`は、forの外のため`i`が定義されていない状態でエラー
- tsのファイルをtscでjsに変換したらvarになった。。。

### varを使用した場合
```js
for (var i = 0; i < 10; i++) {
  (function () {
    var i = 100;
  })();
  console.log(i);
}
console.log(i);
```

実行結果の予想：
```
0
1
2
3
4
5
6
7
8
9
10
```

理由：
- `var` は関数スコープを持つため、forループ内で宣言された `i` は関数全体で有効になります。これにより、ループ内外で同じ変数 `i` を参照できます。
- 即時実行関数内で宣言された `var i = 100` は、その関数内でのみ有効です。このため、ループ内の `i` の値には影響を与えません。
- ループ外の `console.log(i)` は、`var` のホイスティングによって、ループ終了後の値（10）を表示します。ホイスティングとは、`var` で宣言された変数がスコープの先頭に移動される仕組みのことです。これにより、ループが終了した後でも `i` を参照できます。

### 変数宣言キーワードを省略した場合（非strictモード）
```js
for (i = 0; i < 10; i++) {
  (function () {
    i = 100;
  })();
  console.log(i);
}
console.log(i);
```

実行結果の予想：
```
0
1
2
3
4
5
6
7
8
9
10
```

理由：
- 非strictモード？？全部reference error
- この動作は非strictモードでのみ有効で、strictモードではエラーとなります
- 実行できないがvarと同じような扱いっぽい。
