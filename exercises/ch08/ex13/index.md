# 重大な問題点

任意の JavaScript コードが実行される危険性（コードインジェクション脆弱性）がある。

## 実証例

例えば、以下のような入力を与えると、サーバー上にファイルが作成される可能性。

```javascript
require('fs').writeFileSync('hacked.txt', 'hacked!');
```

# 対策方法

- ユーザー入力を直接 new Function や eval で実行しない
- サニタイズ・バリデーション
- サンドボックス化
  →どうしても動的にコードを実行する必要がある場合は、VMやWeb Workerなど、権限を制限した環境で実行する。
- 外部ライブラリの利用
  →数式やテンプレートなどを安全に評価したい場合は、専用のパーサーやライブラリ（例：math.js、Handlebarsなど）を使う。
- 権限の分離-
  →サーバー側で実行する場合は、最低限の権限しか持たないユーザーでプロセスを動かす。
