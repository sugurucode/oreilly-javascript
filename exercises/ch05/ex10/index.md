## with文とは

「オブジェクトのプロパティ」を使うときに、オブジェクト名を書かなくて良くなる。

### 例

```js
const obj = { a: 1, b: 2 };
with (obj) {
  a = 10; // 本当は obj.a = 10 と同じ意味
  b = 20; // 本当は obj.b = 20 と同じ意味
}
```

### 1つ目のブロック

- 出力: `{ a: 1, b: 2, obj: { a: 4, b: 4 } }`
- with文を使わずに同じ処理: `obj.a = obj.b`

### 2つ目のブロック

- 出力: `{ a: 4, b: 2, obj: { b: 4 } }`
- with文を使わずに同じ処理: `a = obj.b`
- objにaがないから、プロパティでない変数のa?

### 3つ目のブロック

- console.log の出力: `{ a: 1, b: 2, obj: { a: 2 } }`
- with文を使わずに同じ処理: `obj.a = b`
- objにプロパティaは存在。bはないので外のbが代入される。

### 4つ目のブロック

- console.log の出力: `{ a: 2, b: 2, obj: {} }`
- with文を使わずに同じ処理: `a = b`

---

### まとめ

- たとえば、同じ名前の変数やプロパティが外側にも内側にもあると、わかりづらくなる。
- JavaScriptの新しいルール（strict mode）では使えない。
