# ç·´ç¿’å•é¡Œ: 12 ç« 

## å•é¡Œ 12.1 ðŸ’»ðŸ–‹ï¸

ä»¥ä¸‹ã®ã‚³ãƒ¼ãƒ‰ã«ç¤ºã™é–¢æ•° `counterIter()` åŠã³ `counterGen()` ã‚’åˆ©ç”¨ã—ã¦ã€ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚¿åŠã³ã‚¸ã‚§ãƒãƒ¬ãƒ¼ã‚¿ã«å¯¾ã—ã¦ã€Œèª¿æŸ»å¯¾è±¡ã®æ“ä½œã€ã«ç¤ºã™æ“ä½œã‚’ã—ãŸã¨ãã«ã€ã©ã®éƒ¨åˆ†ãŒå®Ÿè¡Œã•ã‚Œã‚‹ã®ã‹ã‚’èª¿æŸ»ã™ã‚‹ã‚³ãƒ¼ãƒ‰ã‚’ä½œæˆã—ã€å®Ÿè¡Œçµæžœã¨å‹•ä½œã®èª¬æ˜Žã‚’è¨˜è¿°ã—ãªã•ã„

```js
function counterIter(max) {
  console.log("counterIter");
  let c = 1;
  return {
    [Symbol.iterator]() {
      console.log("counterIter: Symbol.iterator");
      return this;
    },
    next() {
      console.log("counterIter: next");
      if (c >= max + 1) {
        return { value: undefined, done: true };
      }
      const value = c;
      c++;
      return { value, done: false };
    },
    return(value) {
      console.log("counterIter: return:", value);
      return { value, done: true };
    },
    throw(e) {
      console.log("counterIter: throw:", e);
      throw e;
    },
  };
}

function* counterGen(max) {
  console.log("counterGen");
  try {
    for (let c = 1; c <= max; c++) {
      console.log("counterGen: next");
      yield c;
    }
  } catch (e) {
    console.log("counterGen: catch:", e);
    throw e;
  } finally {
    console.log("counterGen: finally");
  }
}
```

èª¿æŸ»å¯¾è±¡ã®æ“ä½œ

- æ˜Žç¤ºçš„ã«[ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚¿ãƒ—ãƒ­ãƒˆã‚³ãƒ«](https://developer.mozilla.org/ja/docs/Web/JavaScript/Reference/Iteration_protocols)ã® next() ã‚’å‘¼ã³å‡ºã™
- æ˜Žç¤ºçš„ã«[ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚¿ãƒ—ãƒ­ãƒˆã‚³ãƒ«](https://developer.mozilla.org/ja/docs/Web/JavaScript/Reference/Iteration_protocols)ã® return() ã‚’å‘¼ã³å‡ºã™
- æ˜Žç¤ºçš„ã«[ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚¿ãƒ—ãƒ­ãƒˆã‚³ãƒ«](https://developer.mozilla.org/ja/docs/Web/JavaScript/Reference/Iteration_protocols)ã® throw() ã‚’å‘¼ã³å‡ºã™
- for-of ãƒ«ãƒ¼ãƒ—ã‚’å®Ÿè¡Œ
- for-of ãƒ«ãƒ¼ãƒ—ã‚’å®Ÿè¡Œé€”ä¸­ã§ break
- for-of ãƒ«ãƒ¼ãƒ—ã‚’å®Ÿè¡Œä¸­ã«ä¾‹å¤–ç™ºç”Ÿ

**å‡ºé¡Œç¯„å›²**: å…¨ä½“

## å•é¡Œ 12.2 ðŸ’»ðŸ§ª

ã‚¸ã‚§ãƒãƒ¬ãƒ¼ã‚¿é–¢æ•°ã‚’ä½¿ã‚ãšã«ã€P.367 ã®`fibonacciSequence()`ãŒè¿”ã™ã‚¸ã‚§ãƒãƒ¬ãƒ¼ã‚¿ã¨åŒç­‰ã®ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚¿ã‚’è¿”ã™é–¢æ•°ã‚’å®Ÿè£…ã—ãªã•ã„ã€‚

**å‡ºé¡Œç¯„å›²**: 12.3.1

## å•é¡Œ 12.3 ðŸ’»ðŸ§ª

P.372 ã§ä¾‹ç¤ºã•ã‚Œã¦ã„ã‚‹ã€`throw()`ã‚’ä½¿ã£ã¦ãƒªã‚»ãƒƒãƒˆã‚’è¡Œã†ã‚«ã‚¦ãƒ³ã‚¿ã®ã‚ˆã†ãªã‚¸ã‚§ãƒãƒ¬ãƒ¼ã‚¿ã‚’å®Ÿè£…ã—ãªã•ã„ã€‚

**å‡ºé¡Œç¯„å›²**: 12.4.3

## å•é¡Œ 12.4 ðŸ’»ðŸ§ª

å€¤ãŒå¿…è¦ã«ãªã‚‹ã¾ã§å®Ÿéš›ã®è¨ˆç®—ã‚’è¡Œã‚ãªã„è©•ä¾¡æˆ¦ç•¥ã‚’é…å»¶è©•ä¾¡ã¨å‘¼ã¶ã€‚ã‚¸ã‚§ãƒãƒ¬ãƒ¼ã‚¿é–¢æ•°ã¯`next()`ãŒå‘¼ã°ã‚Œã‚‹ã¾ã§è©•ä¾¡ãŒé…å»¶ã•ã‚Œã‚‹é–¢æ•°ã¨è€ƒãˆã‚‹ã“ã¨ãŒã§ãã‚‹ã€‚é…å»¶è©•ä¾¡ã‚’è¡Œã†ã“ã¨ã§ã€ä¾‹ãˆã°ç´ æ•°ã®ã‚ˆã†ãªç„¡é™ã«ç¶šãå€¤ã‚’æ‰±ã†ã“ã¨ãŒã§ãã‚‹ã€‚

å‘¼ã³å‡ºã—ã”ã¨ã«ç´ æ•°ã‚’é †ç•ªã«è¿”ã™ç„¡é™ã‚¸ã‚§ãƒãƒ¬ãƒ¼ã‚¿ `primes()` ã‚’å®Ÿè£…ã—ãªã•ã„ã€‚

ãƒ’ãƒ³ãƒˆ: P363 ã® `filter()` é–¢æ•°ã¨æ•´æ•°åˆ—ã‚’è¿”ã™ã‚¸ã‚§ãƒãƒ¬ãƒ¼ã‚¿ã‚’çµ„ã¿åˆã‚ã›ã‚‹ã“ã¨ã§ã€ç´ æ•°ã®å€æ•°ã‚’ãµã‚‹ã„è½ã¨ã™å†å¸°ã‚¸ã‚§ãƒãƒ¬ãƒ¼ã‚¿ã‚’ä½œæˆã—ã€å†…éƒ¨ã«é…åˆ—ã‚’ä¿æŒã™ã‚‹ã“ã¨ãªãã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã‚’å®Ÿç¾ã§ãã‚‹

**å‡ºé¡Œç¯„å›²**: 12.3

## å•é¡Œ 12.5 ðŸ’»ðŸ§ª

æŒ‡å®šã•ã‚ŒãŸãƒ•ã‚¡ã‚¤ãƒ«ãƒ‘ã‚¹ã‚’å—ã‘å–ã‚Šã€ãã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æ”¹è¡Œã‚³ãƒ¼ãƒ‰ `\n` ã®å‡ºç¾ã”ã¨ã«åˆ†å‰²ã—ã¦è¿”ã™ã‚¸ã‚§ãƒãƒ¬ãƒ¼ã‚¿é–¢æ•° `function* readLines(filePath)` ã‚’ä½œæˆã—ãªã•ã„ã€‚å–å¾—ã§ãã‚‹æ–‡å­—åˆ—ã‹ã‚‰ã¯æ”¹è¡Œã‚³ãƒ¼ãƒ‰ãŒé™¤åŽ»ã•ã‚Œã¦ã„ã‚‹ã“ã¨ã€‚

ãƒ•ã‚¡ã‚¤ãƒ«ã®èª­ã¿è¾¼ã¿ã¯ä¸€åº¦ã«ã™ã¹ã¦èª­ã¿è¾¼ã‚€ã®ã§ã¯ãªãã€`fs.openSync()`, `fs.readSync()` ã‚’ä½¿ã£ã¦ä¸€å®šãƒãƒƒãƒ•ã‚¡ã‚µã‚¤ã‚ºã”ã¨ã«èª­ã¿è¾¼ã‚€ã‚ˆã†ã«ã—ã€å¿…ãš `fs.closeSync()` ã§ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã‚¯ãƒ­ãƒ¼ã‚ºã™ã‚‹ã“ã¨ã€‚
ã¾ãŸã€åˆ©ç”¨è€…å´ã®ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚¿ã®ãƒ«ãƒ¼ãƒ—ã®é€”ä¸­ã§ `break` ã—ãŸã‚Š `throw` ã•ã‚ŒãŸå ´åˆã§ã‚‚ `fs.closeSync()` ã•ã‚Œã‚‹ã‚ˆã†ã«ã™ã‚‹ã“ã¨ã€‚

èª­ã¿è¾¼ã¾ã‚Œã‚‹ãƒ•ã‚¡ã‚¤ãƒ«ã¯ UTF-8 ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã•ã‚ŒãŸãƒ†ã‚­ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã§ã‚ã‚‹ã¨æƒ³å®šã—ã¦è‰¯ã„ã€‚

**å‡ºé¡Œç¯„å›²**: 12.3

## å•é¡Œ 12.6 ðŸ’»ðŸ§ª

æŒ‡å®šã•ã‚ŒãŸãƒ‡ã‚£ã‚¯ãƒˆãƒªå†…ã®ãƒ•ã‚¡ã‚¤ãƒ«/ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’å†å¸°çš„ã«æŽ¢ç´¢ã™ã‚‹ã‚¸ã‚§ãƒãƒ¬ãƒ¼ã‚¿é–¢æ•° `function* walk(rootPath)` ã‚’ä½œæˆã—ãªã•ã„ã€‚

ãƒ•ã‚¡ã‚¤ãƒ«ã¨ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®ã¿ã‚’è€ƒæ…®ã™ã‚Œã°è‰¯ãã€ã‚·ãƒ³ãƒœãƒªãƒƒã‚¯ãƒªãƒ³ã‚¯ã‚„ãƒ–ãƒ­ãƒƒã‚¯ãƒ‡ãƒã‚¤ã‚¹ãªã©ã¯ç„¡è¦–ã—ã¦è‰¯ã„ã€‚

`fs` ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®åŒæœŸé–¢æ•° (`fs.xxxSync()`) ã‚’åˆ©ç”¨ã™ã‚‹ã“ã¨ã€‚

å–å¾—ã§ãã‚‹ãƒ‡ãƒ¼ã‚¿ã¯ä»¥ä¸‹ã®ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’æŒã¤ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã«ã™ã‚‹ã“ã¨ã€‚

- `path`: ãƒ•ã‚¡ã‚¤ãƒ«/ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®ãƒ‘ã‚¹æ–‡å­—åˆ—
- `isDirectory`: ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã§ã‚ã‚Œã° `true`, ãã†ã§ãªã‘ã‚Œã° `false`

**å‡ºé¡Œç¯„å›²**: 12.3.2
